(function(t){function e(e){for(var c,r,o=e[0],l=e[1],i=e[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(t[c]=l[c]);b&&b(e);while(d.length)d.shift()();return s.push.apply(s,i||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],c=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(c=!1)}c&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var c={},a={app:0},s=[];function r(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=c,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)r.d(n,c,function(e){return t[e]}.bind(null,c));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var i=0;i<o.length;i++)e(o[i]);var b=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"441a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var c=n("7a23");const a={class:"container with-nav"};function s(t,e,n,s,r,o){const l=Object(c["v"])("the-navbar"),i=Object(c["v"])("router-view");return Object(c["o"])(),Object(c["d"])(c["a"],null,[Object(c["f"])(l),Object(c["f"])("div",a,[Object(c["f"])(i)])],64)}const r=Object(c["D"])("data-v-f718f532");Object(c["r"])("data-v-f718f532");const o={class:"navbar"},l=Object(c["f"])("h3",null," Freelance ",-1),i={class:"navbar-menu"},b=Object(c["e"])("Все задачи"),u=Object(c["e"])("Создать");Object(c["p"])();const d=r((t,e,n,a,s,d)=>{const O=Object(c["v"])("router-link");return Object(c["o"])(),Object(c["d"])("nav",o,[l,Object(c["f"])("ul",i,[Object(c["f"])("li",null,[Object(c["f"])(O,{to:"/"},{default:r(()=>[b]),_:1})]),Object(c["f"])("li",null,[Object(c["f"])(O,{to:"/new"},{default:r(()=>[u]),_:1})])])])});var O={};O.render=d,O.__scopeId="data-v-f718f532";var j=O,p=n("5502"),f={setup(){const t=Object(p["b"])();t.dispatch("tasks")},components:{TheNavbar:j}};f.render=s;var v=f,k=n("6c02");const g={key:0,class:"text-white center"},h={class:"text-white"},m={class:"card-title"};function y(t,e,n,a,s,r){const o=Object(c["v"])("AppStatus");return a.tasksList?(Object(c["o"])(),Object(c["d"])(c["a"],{key:1},[Object(c["f"])("h3",h,"Всего активных задач: "+Object(c["x"])(a.activeTask),1),(Object(c["o"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(a.tasksList,e=>(Object(c["o"])(),Object(c["d"])("div",{class:"card",key:e.id},[Object(c["f"])("h2",m,[Object(c["e"])(Object(c["x"])(e.title)+" ",1),Object(c["f"])(o,{type:e.status},null,8,["type"])]),Object(c["f"])("p",null,[Object(c["f"])("strong",null,[Object(c["f"])("small",null,Object(c["x"])((new Date).toLocaleDateString()),1)])]),Object(c["f"])("button",{class:"btn primary",onClick:n=>t.$router.push("/task/"+e.id)},"Посмотреть",8,["onClick"])]))),128))],64)):(Object(c["o"])(),Object(c["d"])("h1",g,"Задач пока нет"))}function T(t,e,n,a,s,r){return Object(c["o"])(),Object(c["d"])("span",{class:["badge",a.className]},Object(c["x"])(a.text),3)}var w={props:["type"],setup(t){console.log(t);const e=Object(c["b"])(()=>"pending"===t.type?"Просрочен":"cancelled"===t.type?"Отменен":"done"===t.type?"Завершен":"В работе"),n=Object(c["b"])(()=>"pending"===t.type?"warning":"cancelled"===t.type?"danger":"primary");return{text:e,className:n}}};w.render=T;var x=w,S={setup(){const t=Object(p["b"])(),e=Object(c["b"])(()=>t.getters.getTasks),n=Object(c["b"])(()=>t.getters.getActiveCount);return{tasksList:e,activeTask:n}},components:{AppStatus:x}};S.render=y;var C=S;const L={key:0,class:"card"},_=Object(c["f"])("strong",null,"Статус",-1),A=Object(c["e"])(": "),D=Object(c["f"])("strong",null,"Дэдлайн",-1),P=Object(c["f"])("strong",null,"Описание",-1),M={key:1,class:"text-white center"},N=Object(c["e"])(" Задачи с id = "),J=Object(c["e"])(" нет. ");function z(t,e,n,a,s,r){const o=Object(c["v"])("AppStatus");return a.task?(Object(c["o"])(),Object(c["d"])("div",L,[Object(c["f"])("h2",null,Object(c["x"])(a.task.title),1),Object(c["f"])("p",null,[_,A,Object(c["f"])(o,{type:a.task.status},null,8,["type"])]),Object(c["f"])("p",null,[D,Object(c["e"])(": "+Object(c["x"])((new Date).toLocaleDateString()),1)]),Object(c["f"])("p",null,[P,Object(c["e"])(": "+Object(c["x"])(a.task.description),1)]),Object(c["f"])("div",null,[Object(c["f"])("button",{class:"btn",onClick:e[1]||(e[1]=Object(c["C"])(t=>a.changeStatus("active"),["prevent"]))},"Взять в работу"),Object(c["f"])("button",{class:"btn primary",onClick:e[2]||(e[2]=Object(c["C"])(t=>a.changeStatus("done"),["prevent"]))},"Завершить"),Object(c["f"])("button",{class:"btn danger",onClick:e[3]||(e[3]=Object(c["C"])(t=>a.changeStatus("cancelled"),["prevent"]))},"Отменить")])])):(Object(c["o"])(),Object(c["d"])("h3",M,[N,Object(c["f"])("strong",null,Object(c["x"])(a.id),1),J]))}var B={setup(){const t=Object(k["c"])(),e=Object(p["b"])(),n=t.params.id,a=Object(c["b"])(()=>e.getters.getTask(n));function s(t){const n={...a.value,status:t};e.dispatch("updateTask",n)}return{task:a,id:n,changeStatus:s}},components:{AppStatus:x}};B.render=z;var U=B;const V={class:"card"},I=Object(c["f"])("h1",null,"Создать новую задачу",-1),$={class:"form-control"},E=Object(c["f"])("label",{for:"title"},"Название",-1),F={class:"form-control"},q=Object(c["f"])("label",{for:"date"},"Дата дэдлайна",-1),G={class:"form-control"},H=Object(c["f"])("label",{for:"description"},"Описание",-1);function K(t,e,n,a,s,r){return Object(c["o"])(),Object(c["d"])("form",V,[I,Object(c["f"])("div",$,[E,Object(c["B"])(Object(c["f"])("input",{type:"text",id:"title","onUpdate:modelValue":e[1]||(e[1]=t=>a.title=t)},null,512),[[c["z"],a.title]])]),Object(c["f"])("div",F,[q,Object(c["B"])(Object(c["f"])("input",{type:"date",id:"date","onUpdate:modelValue":e[2]||(e[2]=t=>a.date=t)},null,512),[[c["z"],a.date]])]),Object(c["f"])("div",G,[H,Object(c["B"])(Object(c["f"])("textarea",{id:"description","onUpdate:modelValue":e[3]||(e[3]=t=>a.description=t)},null,512),[[c["z"],a.description]])]),Object(c["f"])("button",{class:"btn primary",disabled:!a.readyToSave,onClick:e[4]||(e[4]=Object(c["C"])((...t)=>a.saveTask&&a.saveTask(...t),["prevent"]))}," Создать ",8,["disabled"])])}var Q={setup(){const t=Object(k["d"])(),e=Object(p["b"])(),n=Object(c["t"])(""),a=Object(c["t"])(""),s=Object(c["t"])("");function r(){const c=new Date,r=new Date(a.value),o={id:Math.random().toString(36).substr(2,9),title:n.value,date:a.value,description:s.value,status:c.getTime()<=r.getTime()?"active":"pending"};e.dispatch("saveTask",o),t.push("/")}const o=Object(c["b"])(()=>""!=n.value.trim()&&""!=s.value.trim()&&""!=a.value);return{title:n,date:a,description:s,readyToSave:o,saveTask:r}}};Q.render=K;var R=Q;const W=[{path:"/",component:C,name:C},{path:"/task/:id",component:U,name:U},{path:"/new",component:R,name:R}],X=Object(k["a"])({history:Object(k["b"])("/"),linkActiveClass:"active",linkExactActiveClass:"active",routes:W});var Y=X,Z=n("bc3a"),tt=n.n(Z),et=Object(p["a"])({state(){return{tasksList:[]}},getters:{getTasks(t){return t.tasksList},getTask(t,e){return t=>e.getTasks.find(e=>e.id===t)},getActiveCount(t,e){return e.getTasks.filter(t=>"active"===t.status).length}},mutations:{addTask(t,e){t.tasksList.push(e)},setTasks(t,e){t.tasksList=e},changeTask(t,e){const n=t.tasksList.findIndex(t=>t.id===e.id);t.tasksList[n]=e}},actions:{async saveTask({commit:t},e){await tt.a.put("https://vue-freelance-lsn-default-rtdb.firebaseio.com/tasks/"+e.id+".json",JSON.stringify(e)),t("addTask",e)},async tasks({commit:t}){const{data:e}=await tt.a.get("https://vue-freelance-lsn-default-rtdb.firebaseio.com/tasks.json");if(e){const n=Object.keys(e).map(t=>({...e[t]}));t("setTasks",n)}},async updateTask({commit:t},e){console.log(e.id),await tt.a.put(`https://vue-freelance-lsn-default-rtdb.firebaseio.com/tasks/${e.id}.json`,JSON.stringify(e)),t("changeTask",e)}}});n("441a");Object(c["c"])(v).use(et).use(Y).mount("#app")}});
//# sourceMappingURL=app.b9bf1be2.js.map